<!DOCTYPE html>

<html lang="en">
<head>
  <title>Science Game</title>

    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">


    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="shortcut icon" href="/uploads/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/group.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/bootstrap.min.css">


    <!-- Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mustache.js/3.1.0/mustache.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src="/js/lib/underscore-min.js" type="text/javascript"></script>
    <script src="/js/lib/notify.min.js" type="text/javascript"></script>

    <!-- Initial Scripts -->
</head>
<!-- onload="document.getElementById('game_frame').contentWindow.startIframeORgetIframe();" -->
<body style="background:#EBECF0">
  <div id="timer" style="text-align:right;font-size:12px">
    You have <span id="timer-time"></span> to finish the instructions
  </div>



<!-- INSTRUCTIONS START -->
<div class="instructions well" id="ins_1" style="display:block;">
    <p>Thank you for agreeing to participate!</p>
    <p>In this task you will be using your scientific investigation skills.</p>
    <p>You and the other player have arrived on a bizarre alien planet where the only objects you can see are colored cones clumped into small groups in an otherwise empty landscape (Figure 1).</p>
    <div align=center>
       <img src="/images/instructions/ins1_1.png" alt="ex1" style="width:600px;">
       <figcaption>Figure 1 - Bizarre alien planet.</figcaption>
   </div>
   <br>
    <p>You have brought a scientific measuring device.  It can be tuned to detect different types of radiation.  At particular settings, it reveals that some of the clumps of cones emit colorful radiation, while others do not do not (Figure 2).</p>
    <div align=center>
        <img src="/images/instructions/ins1_2.png" alt="ex1" style="width:600px;">
        <figcaption>Figure 2 - Testing for radiation.  Only the arrangement on the left emits this kind of radiation.</figcaption>
    </div>
    <br>
    <p>Your job is to come up with experiments to help work out what makes a set of cones emit radiation.</p>
    <!--console.log(psiTurk.getInstructionIndicator()) -->
    <button class="button" id="ins_1_btn"><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_2" style="display:none;">
<p>There are a few kinds of radiation for which we have already established the cause.</p>
    <p>Study the list below to help you get started.  For each type of radiation we give several examples. The examples with the yellow stars <b>do</b> emit this kind of radiation, those with white stars <b>do not</b>.</p>
        <ol>
            <li>Alpha waves: <i>Whenever there is at least one small cone</i><br><br>
                <img src="/images/instructions/ins2_1.png" alt="ex1" style="width:600px;">
                <br><br>
            <li>Beta waves: <i>If all cones are all the same color</i><br><br>
                <img src="/images/instructions/ins2_2.png" alt="ex1" style="width:600px;">
                <br><br>
            <li>Delta waves: <i>If none of the cones are touching</i><br><br>
                <img src="/images/instructions/ins2_3.png" alt="ex1" style="width:600px;">
                <br><br>
            <li>Gamma waves: <i>If all the cones point in the same direction</i><br><br>
                <img src="/images/instructions/ins2_4.png" alt="ex1" style="width:600px;">
                <br><br>
            <li>Epsilon waves: <i>If there is a a blue cone that is larger than any red cones</i><br><br>
                <img src="/images/instructions/ins2_5.png" alt="ex1" style="width:600px;">
                <br><br>
        </ol>
    <p>So, as you can see, the radiation works quite differently here than on Earth.  It might be caused by many different things such as the cones' number, sizes, colors, positions, orientations, as well as more complicated relationships between them.</p>
    <button class="button" id="ins_2_btn"><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_3" style="display:none;">
<p>We have discovered that other arrangements of cones emit <b>5</b> other types of radiation.</p>
<p>However, we don't yet know what conditions (arrangements of cones) cause these types of radiation to be emitted...</p>
<p>Your job is to perform some additional experiments investigating each type of radiation.</p>
 <p>For each kind of radiation, your task has six stages:</p>
    <ol>
        <li>See <b>1</b> arrangement already known to emit radiation at this frequency.
        <li>Design <b>7</b> of your own arrangements, and test each one to see if it emits this kind of radiation.
        <li>See <b>8</b> other arrangements and guess which of these will emit this kind of radiation.
        <li>Describe the rule that captures what arrangements will emit this radiation in your own words.
        <li>See the <b>8</b> arragnements again including your initial choices and the choices of the other <b>player</b>.
        <li><b>Revise</b> your initial choices under consideration of the choices of the other player.
    </ol>
    <button class="button" id="ins_3_btn"><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_4" style="display:none;">
    <p>To design your own experiments you will add pieces to the world using a construction interface.  Watch the video below to see how this works.  Note you must watch the video before you can continue to the  next page.</p>
    <div align=center>
        <video controls width="400px"height="300px" id="construction_mov" name="construction_mov" controls="controls"  onended="$('#ins_4_btn').prop('disabled', false);" muted preload="auto">
            <source src = "/movies/construction_psi.mp4" type="video/mp4">
            <source src="/movies/construction_psi.mov"  type="video/mov">
              <!-- <source src="/movies/construction_psi.webm"  type="video/webm"> -->
            <p>Sorry.  If this video wont play you wont be able to complete the experiment.</p>
        </video>
    </div>
    <!-- <video controls="controls" width="600" name="Shaking" src="./static/movies/construction_phi.mp4"></video> -->
    <p>In the interface you can:</p>
    <ol>
        <li>Press buttons at the bottom to add cones
        <li>Move the cones around by picking them up with the mouse (left clicking and holding)
        <li>Turn them using the "Z" (counterclockwise) and "X" (clockwise) keys
        <li>Right click on them to remove them (command + click if you are using mac trackpad)
    </ol>
    <p>When you are ready, click ``Test'' to measure your chosen arrangement and see if it is emitting radiation at the current frequency.  If the arrangement follows the rule you will see stars rising to the top of the screen.  Otherwise nothing will happen.  You will be able to see your previous tests and their outcomes at the top of the screen.  Yellow stars indicate tests in which radiation <i>was</i> emitted.</p>
    <button class="button" id="ins_4_btn" disabled=""><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_5" style="display:none;">
    <p>After your experiments, you will be tested on the cause of this kind of radiation.  You will be shown 8 new arrangements.  Select which you think emit radiation when tested.  <i>You must select at least one and less than all eight.</i></p>
    <p>You will receive a cash bonus of <b>5 cents</b> for each of the arrangements you guess correctly about (watch video).  This means that you can make a bonus of up to $0.05 &#215 5 radiation types &#215 8 test arrangements = $2.  Play the video below to continue.</p>
    <div align=center>
        <video controls height=300 id="selection_vid" name="selection_vid" controls="controls" onended="$('#ins_5_btn').prop('disabled', false);" muted>
            <source src="/movies/selection_mu.mp4"  type="video/mp4">
            <source src="/movies/selection_mu.mov"  type="video/mov">
             <p>Sorry.  If this video wont play you wont be able to complete the experiment.</p>
        </video>
    </div>
    <button class="button" id="ins_5_btn" disabled=""><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_6" style="display:none;">
    <p>Therafter, you will be asked to <b>describe in your own words</b> what you think is the hidden rule that causes the radiation to be emitted at this frequency.  For instance you might write, "I think all the cones have to be large".  You should be as specific as possible with this.  Try to use unambiguous phrases like "There must be at least..." / "There are at most.." / "There is exactly one..."</p>
    <div align=center>
        <img src="/images/instructions/free_response.png" alt="ex1" style="width:400px;">
    </div>
    <p><b>Note:</b> The true rule has <i>nothing to do with:</i> the radiation's name; <i>nor</i> the way radiation might work on Earth; <i>nor</i> the order in which you perform your tests <i>nor</i> with what was true for the other frequencies of radiation.  I.e., on this planet, all types of radiation operate independently.</p><br><br>
    <button class="button" id="ins_6_btn"><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_7" style="display:none;">
    <p>Finally, you will be asked to <b>revise</b> your initial choices based on the choices of the other player. The other player will have performed <b>different experiments</b>, meaning that their knowledge about radiation may help <b>improve</b> the accuracy of your choices (and so increase your bonus).</p>
    <div align=center>
        <video height=450 id="collaborator_vid" name="collaborator_vid" controls="controls" onended="$('#ins_7_btn').prop('disabled', false);" muted>
            <source src="/movies/collaborator.mov"  type="video/mov">
            <source src="/movies/collaborator.mp4"  type="video/mp4">
        </video>
    </div>
    <p><u>This is a really tough assignment, so do the best you can.  Do not worry if you cannot work everything out.<br><br>Good luck!</u></p>
    <button class="button" id="ins_7_btn" disabled=""><span>Continue</span></button>
</div>
<div class="instructions well" id="ins_8" style="display:none;">
    <ol>
        <li>Your task is to work out what rule determines whether an arrangement of cones will emit radiation<br><br>
        <li>You will do this for 5 different types of radiation waves (5 different rules)<br><br>
        <li>You will see one positive example and then create 7 more of your own each time<br><br>
        <li>You will then get a chance to demonstrate your understanding by guessing about whether 8 new arrangements will emit this type of arrangements<br><br>
        <li>You will describe the rule in your own words before moving on to the next type of radiation<br><br>
        <li>You will then see the choices the other player and revise your initial choices. Make sure you consider their choices carefully, they might help improve your accuracy to increase your overall bonus
    </ol>
    <button class="button" id="ins_8_btn"><span>Continue</span></button>
</div>
<!-- COMPREHENSION QUIZ -->
<div class="instructions well" id="comprehension_quiz" style="display:none;">
    <p> We will now ask some quick questions to make sure you understand the task!
    <p><b>1.</b> You will be investigating 5 different types of radiation
        <select id="comprehension_q1" name="comprehension_q1" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <br/>
    <p><b>2.</b> For each type, your job is to create arrangements that emit radiation as many times as possible
        <select id="comprehension_q2" name="comprehension_q2" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <br/>
    <p><b>3.</b> After doing your experiments, you will make judgments about new arrangements
        <select id="comprehension_q3" name="comprehension_q3" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <br/>
    <p><b>4.</b> The rule can only be to do with the number, sizes, or colors of the cones
        <select id="comprehension_q4" name="comprehension_q4" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <br/>
    <p><b>5.</b> The rule might have to do with the order in which you performed your tests
        <select id="comprehension_q5" name="comprehension_q5" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <br>
     <p><b>6.</b> You may revise your initial choices based on the choices of the other player and earn 5 cents for each one you get right
        <select id="comprehension_q6" name="comprehension_q6" class="comprehensionQ">
           <option value="noresp" SELECTED></option>
           <option value="true">True</option>
           <option value="false">False</option>
         </select>
    </p>
    <button class="button" id="comprehension_btn"><span>Check</span></button>
    <form action="/instructions" method="post">
      <button class="button" id="start_btn" style="display:none;"><span>Start</span></button>
    </form>
  </div>
  <!-- INSTRUCTIONS FINISH -->





<script type="text/javascript">
  // setting up a timer for the participant who joined in first
  // Set the time we're counting down to
    var countDownSec = 900;

    // Update the count down every 1 second
    waiting_lobby = setInterval(function() {

      // Time calculations for minutes and seconds
      var minutes = Math.floor((countDownSec % (60 * 60)) / 60);
      var seconds = Math.floor(countDownSec % 60);

      // Output the result in an element with id="demo"
      document.getElementById("timer-time").innerHTML = minutes+":"+seconds;

      // If the count down is over, write some text
      if (countDownSec < 1) {
        window.location.replace("http://www.SorryTooLate.com/");
      }
      countDownSec = countDownSec - 1;
    }, 1000);

  //////////////////////////////////////////////
  // 1 STEPPING THROUGH INSTRUCTIONS
  //////////////////////////////////////////////
$('#ins_1_btn').click(function () {
    $('#ins_1').hide();
    $('#ins_2').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_2_btn').click(function () {
    $('#ins_2').hide();
    $('#ins_3').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_3_btn').click(function () {
    $('#ins_3').hide();
    $('#ins_4').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_4_btn').click(function () {
    $('#ins_4').hide();
    $('#ins_5').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_5_btn').click(function () {
    $('#ins_5').hide();
    $('#ins_6').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_6_btn').click(function () {
    $('#ins_6').hide();
    $('#ins_7').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_7_btn').click(function () {
    $('#ins_7').hide();
    $('#ins_8').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  $('#ins_8_btn').click(function () {
    $('#ins_8').hide();
    $('#comprehension_quiz').show();
    window.scrollTo({top: 0, behavior: 'smooth' });
  });
  //////////////////////////////////////////////
  //////////////////////////////////////////////
  //////////////////////////////////////////////
  // 2 COMPREHENSION QUIZ
  //////////////////////////////////////////////
  var comp_checker = function() {
    $('#done_comp').show();
    //Pull the selected values
    var q1 = $('#comprehension_q1').val();
    var q2 = $('#comprehension_q2').val();
    var q3 = $('#comprehension_q3').val();
    var q4 = $('#comprehension_q4').val();
    var q5 = $('#comprehension_q5').val();
    var q6 = $('#comprehension_q6').val();
     // correct answers
     answers = ["true", "false", "true", "false", "false", "true"];
     if(q1 == answers[0] && q2 == answers[1] && q3 == answers[2] && q4 == answers[3] && q5 == answers[4] && q6 == answers[5]){
            // enable subject to start experiment
        $('#comprehension_btn').hide();
        $('#start_btn').show();
        alert('You got everything correct! Press "Start" to begin the experiment.');
      } else {
        // Throw them back to the start of the instructions
        // Remove their answers and have them go through again
        alert('You answered at least one question incorrectly! Please try again.');
        $('#comprehension_q1').prop('selectedIndex', 0);
        $('#comprehension_q2').prop('selectedIndex', 0);
        $('#comprehension_q3').prop('selectedIndex', 0);
        $('#comprehension_q4').prop('selectedIndex', 0);
        $('#comprehension_q5').prop('selectedIndex', 0);
        $('#comprehension_q6').prop('selectedIndex', 0);
        $('#start_btn').hide();
        $('#comprehension_btn').show();
        $('#ins_1').show();
          $('#comprehension_quiz').hide();
      };
  };


$('#comprehension_btn').click(function () {
  comp_checker();
});


</script>


</body>
